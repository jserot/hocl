<!DOCTYPE html>
<html>
  <head>
    <title>Grammar</title>
    <style>
      .specification td, th{
          vertical-align: baseline;
          padding: 0;
          margin: 0;
          font-weight: normal;
      }
      .specification td {
          text-align: left;
      }
      .specification th {
          text-align: right;
          white-space: nowrap;
      }
      .specification th::after {
          content: "\a0::=\a0";
      }
      .specification th.bar {
          text-align: right;
      }
      .specification th.bar::after {
          content: "|\a0";
      }
      .rule th, td {
          padding-top: .5em;
      }
      .nonterminal::before {
          content: "<";
      }
      .nonterminal::after {
          content: ">";
      }
      .list::after {
          content: "*";
          vertical-align: super;
          font-size: smaller;
      }
      .ne_list::after {
          content: "+";
          vertical-align: super;
          font-size: smaller;
      }
      .option::before {
          content: "[";
      }
      .option::after {
          content: "]";
      }
    </style>
  </head>
  
  <body>
    
    <table class="specification">
      
      <tr class="rule">
        <th><span class="nonterminal">program</span></th>
        <td><span class="list"><span class="nonterminal">decl</span></span>
        EOF</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">decl</span></th>
        <td><span class="nonterminal">type_decl</span>
        SEMI</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">value_decl</span>
        SEMI</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">node_decl</span>
        SEMI</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">graph_decl</span>
        SEMI</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">type_decl</span></th>
        <td>TYPE
        IDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">value_decl</span></th>
        <td>VAL
        <span class="option">REC</span>
        <span class="nonterminal">net_binding</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_decl</span></th>
        <td><span class="nonterminal">node_intf</span>
        <span class="nonterminal">node_impl</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_intf</span></th>
        <td>NODE
        IDENT
        <span class="option"><span class="nonterminal">node_params</span></span>
        IN
        <span class="nonterminal">io_decls</span>
        OUT
        <span class="nonterminal">io_decls</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_impl</span></th>
        <td>epsilon
        </td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>ACTOR
        <span class="list"><span class="nonterminal">actor_desc</span></span>
        END</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>STRUCT
        <span class="nonterminal">struct_graph_desc</span>
        END</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FUN
        <span class="nonterminal">fun_graph_desc</span>
        END</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">actor_desc</span></th>
        <td>IDENT
        LPAREN
        <span class="nonterminal">impl_attr</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">impl_attr</span></th>
        <td>IDENT
        EQUAL
        STRING</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>IDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_params</span></th>
        <td>PARAM
        LPAREN
        <span class="nonterminal">node_param_decl</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_param_decl</span></th>
        <td>IDENT
        COLON
        <span class="nonterminal">simple_type_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_decls</span></th>
        <td>LPAREN
        <span class="nonterminal">io_decl</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_decl</span></th>
        <td>IDENT
        COLON
        <span class="nonterminal">simple_type_expr</span>
        <span class="nonterminal">opt_io_annots</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">opt_io_annots</span></th>
        <td>epsilon
        </td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">core_expr</span>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACE
        <span class="nonterminal">io_annot</span><sup>*</sup><sub>COMMA</sub>
        RBRACE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_annot</span></th>
        <td>RATE
        EQUAL
        <span class="nonterminal">core_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>OTHER
        EQUAL
        STRING</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">core_expr</span></th>
        <td><span class="nonterminal">simple_core_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">core_expr</span>
        INFIX3
        <span class="nonterminal">core_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">core_expr</span>
        INFIX2
        <span class="nonterminal">core_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">core_expr</span>
        STAR
        <span class="nonterminal">core_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">simple_core_expr</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>INT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TRUE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FALSE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        <span class="nonterminal">core_expr</span>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">simple_type_expr</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TY_INT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TY_BOOL</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">graph_decl</span></th>
        <td>GRAPH
        IDENT
        <span class="option"><span class="nonterminal">graph_params</span></span>
        IN
        <span class="nonterminal">io_decls</span>
        OUT
        <span class="nonterminal">io_decls</span>
        <span class="nonterminal">graph_defn</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">graph_params</span></th>
        <td>PARAM
        LPAREN
        <span class="nonterminal">graph_param_value</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">graph_param_value</span></th>
        <td>IDENT
        COLON
        <span class="nonterminal">simple_type_expr</span>
        EQUAL
        <span class="nonterminal">const_param_value</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">const_param_value</span></th>
        <td>INT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TRUE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FALSE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">graph_defn</span></th>
        <td>STRUCT
        <span class="nonterminal">struct_graph_desc</span>
        END</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FUN
        <span class="nonterminal">fun_graph_desc</span>
        END</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_graph_desc</span></th>
        <td><span class="list"><span class="nonterminal">struct_defn</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_defn</span></th>
        <td><span class="nonterminal">gwire_defn</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">gnode_defn</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">gwire_defn</span></th>
        <td>WIRE
        IDENT<sup>*</sup><sub>COMMA</sub>
        COLON
        <span class="nonterminal">simple_type_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">gnode_defn</span></th>
        <td>NODE
        IDENT
        COLON
        IDENT
        <span class="option"><span class="nonterminal">gnode_params</span></span>
        <span class="nonterminal">gnode_ios</span>
        <span class="nonterminal">gnode_ios</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">gnode_params</span></th>
        <td>LESS
        <span class="nonterminal">core_expr</span><sup>*</sup><sub>COMMA</sub>
        GREATER</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">gnode_ios</span></th>
        <td>LPAREN
        <span class="nonterminal">gnode_io</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">gnode_io</span></th>
        <td>IDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">fun_graph_desc</span></th>
        <td><span class="list"><span class="nonterminal">net_defn</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_defn</span></th>
        <td>VAL
        <span class="option">REC</span>
        <span class="nonterminal">net_binding</span><sup>+</sup><sub>AND</sub></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_binding</span></th>
        <td><span class="nonterminal">net_pattern</span>
        EQUAL
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_binding_name</span>
        <span class="ne_list"><span class="nonterminal">simple_net_pattern</span></span>
        EQUAL
        <span class="nonterminal">net_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_binding_name</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        INFIX0
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_expr</span></th>
        <td><span class="nonterminal">simple_net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">simple_net_expr</span>
        <span class="ne_list"><span class="nonterminal">simple_net_expr</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr_comma_list</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        COLONCOLON
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">simple_net_expr</span>
        LBRACKET
        <span class="nonterminal">simple_net_expr</span>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LET
        <span class="option">REC</span>
        <span class="nonterminal">net_binding</span><sup>+</sup><sub>AND</sub>
        IN
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FUN
        <span class="nonterminal">net_pattern</span>
        ARROW
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MATCH
        <span class="nonterminal">net_expr</span>
        WITH
        <span class="nonterminal">net_case</span><sup>+</sup><sub>BAR</sub></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>IF
        <span class="nonterminal">net_expr</span>
        THEN
        <span class="nonterminal">net_expr</span>
        ELSE
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        INFIX3
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        INFIX2
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        INFIX0
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        GREATER
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        LESS
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        STAR
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        EQUAL
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        NOTEQUAL
        <span class="nonterminal">net_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">simple_net_expr</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>IDENT
        LESS
        <span class="nonterminal">core_expr</span><sup>+</sup><sub>COMMA</sub>
        GREATER</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">net_expr_comma_list</span>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>INT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TRUE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FALSE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        <span class="nonterminal">net_expr</span>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_expr_comma_list</span></th>
        <td><span class="nonterminal">net_expr_comma_list</span>
        COMMA
        <span class="nonterminal">net_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_expr</span>
        COMMA
        <span class="nonterminal">net_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_case</span></th>
        <td><span class="nonterminal">net_pattern</span>
        ARROW
        <span class="nonterminal">net_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_pattern</span></th>
        <td><span class="nonterminal">simple_net_pattern</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_pattern_comma_list</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_pattern</span>
        COLONCOLON
        <span class="nonterminal">net_pattern</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">net_pattern_comma_list</span>
        RBRACKET</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">simple_net_pattern</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>UNDERSCORE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        <span class="nonterminal">net_pattern</span>
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">net_pattern_comma_list</span></th>
        <td><span class="nonterminal">net_pattern_comma_list</span>
        COMMA
        <span class="nonterminal">net_pattern</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">net_pattern</span>
        COMMA
        <span class="nonterminal">net_pattern</span></td>
      </tr>
      
      
    </table>
    
  </body>
  
</html>
