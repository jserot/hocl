<!DOCTYPE html>
<html>
  <head>
    <title>Grammar</title>
    <style>
      .specification td, th{
          vertical-align: baseline;
          padding: 0;
          margin: 0;
          font-weight: normal;
      }
      .specification td {
          text-align: left;
      }
      .specification th {
          text-align: right;
          white-space: nowrap;
      }
      .specification th::after {
          content: "::=";
      }
      .specification th.bar {
          text-align: right;
      }
      .specification th.bar::after {
          content: "|";
      }
      .rule th, td {
          padding-top: .5em;
      }
      .nonterminal::before {
          content: "<";
      }
      .nonterminal::after {
          content: ">";
      }
      .list::after {
          content: "*";
          vertical-align: super;
          font-size: smaller;
      }
      .ne_list::after {
          content: "+";
          vertical-align: super;
          font-size: smaller;
      }
      .option::before {
          content: "[";
      }
      .option::after {
          content: "]";
      }
    </style>
  </head>
  
  <body>
    
    <table class="specification">
      
      <tr class="rule">
        <th><span class="nonterminal">program</span></th>
        <td><span class="list"><span class="nonterminal">top_decl</span></span>
        EOF</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">top_decl</span></th>
        <td><span class="nonterminal">type_decl</span>
        SEMI</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">val_decl</span>
        SEMI</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">node_decl</span>
        SEMI</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">type_decl</span></th>
        <td>TYPE
        IDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_decl</span></th>
        <td>NODE
        IDENT
        <span class="option"><span class="nonterminal">node_param_decls</span></span>
        IN
        <span class="nonterminal">io_decls</span>
        OUT
        <span class="nonterminal">io_decls</span>
        <span class="option"><span class="nonterminal">node_impl</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>GRAPH
        IDENT
        <span class="option"><span class="nonterminal">graph_param_decls</span></span>
        IN
        <span class="nonterminal">io_decls</span>
        OUT
        <span class="nonterminal">io_decls</span>
        <span class="nonterminal">node_impl</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_impl</span></th>
        <td>FUN
        <span class="list"><span class="nonterminal">val_decl</span></span>
        END</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>STRUCT
        <span class="nonterminal">struct_graph_desc</span>
        END</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>ACTOR
        <span class="list"><span class="nonterminal">actor_desc</span></span>
        END</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">actor_desc</span></th>
        <td>IDENT
        LPAREN
        <span class="nonterminal">impl_attr</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">impl_attr</span></th>
        <td>IDENT
        EQUAL
        STRING</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>IDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_param_decls</span></th>
        <td>PARAM
        LPAREN
        <span class="nonterminal">node_param_decl</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">node_param_decl</span></th>
        <td>IDENT
        COLON
        <span class="nonterminal">type_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">graph_param_decls</span></th>
        <td>PARAM
        LPAREN
        <span class="nonterminal">graph_param_decl</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">graph_param_decl</span></th>
        <td>IDENT
        COLON
        <span class="nonterminal">type_expr</span>
        EQUAL
        <span class="nonterminal">simple_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_decls</span></th>
        <td>LPAREN
        <span class="nonterminal">io_decl</span><sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_decl</span></th>
        <td>IDENT
        COLON
        <span class="nonterminal">type_expr</span>
        <span class="nonterminal">io_annots</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_annots</span></th>
        <td>epsilon
        </td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">basic_expr</span>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACE
        <span class="nonterminal">io_annot</span><sup>*</sup><sub>COMMA</sub>
        RBRACE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">io_annot</span></th>
        <td>IDENT
        EQUAL
        STRING</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">type_expr</span></th>
        <td>IDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">val_decl</span></th>
        <td>VAL
        <span class="option">REC</span>
        <span class="nonterminal">binding</span><sup>+</sup><sub>AND</sub></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">binding</span></th>
        <td><span class="nonterminal">pattern</span>
        EQUAL
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">binding_name</span>
        nonempty_list(<span class="nonterminal">simple_pattern</span>)
        EQUAL
        <span class="nonterminal">expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">binding_name</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        INFIX0
        RPAREN</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">expr</span></th>
        <td><span class="nonterminal">simple_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">simple_expr</span>
        nonempty_list(<span class="nonterminal">simple_expr</span>)</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr_comma_list</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FUN
        <span class="nonterminal">pattern</span>
        ARROW
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LET
        <span class="option">REC</span>
        <span class="nonterminal">binding</span><sup>+</sup><sub>AND</sub>
        IN
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>IF
        <span class="nonterminal">expr</span>
        THEN
        <span class="nonterminal">expr</span>
        ELSE
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        INFIX0
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        INFIX1
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        INFIX2
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        INFIX3
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        EQUAL
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        COLONCOLON
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">simple_expr</span>
        LBRACKET
        <span class="nonterminal">simple_expr</span>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MATCH
        <span class="nonterminal">expr</span>
        WITH
        <span class="nonterminal">match_case</span><sup>+</sup><sub>BAR</sub></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">match_case</span></th>
        <td><span class="nonterminal">pattern</span>
        ARROW
        <span class="nonterminal">expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">simple_expr</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        <span class="nonterminal">expr</span>
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">const_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">expr</span><sup>+</sup><sub>SEMI</sub>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        RBRACKET</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">const_expr</span></th>
        <td>INT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TRUE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FALSE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">expr_comma_list</span></th>
        <td><span class="nonterminal">expr_comma_list</span>
        COMMA
        <span class="nonterminal">expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expr</span>
        COMMA
        <span class="nonterminal">expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">pattern</span></th>
        <td><span class="nonterminal">simple_pattern</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">pattern_comma_list</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">pattern</span>
        COLONCOLON
        <span class="nonterminal">pattern</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">simple_pattern</span><sup>+</sup><sub>SEMI</sub>
        RBRACKET</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">simple_pattern</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>UNDERSCORE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        <span class="nonterminal">pattern</span>
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        RBRACKET</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">pattern_comma_list</span></th>
        <td><span class="nonterminal">pattern_comma_list</span>
        COMMA
        <span class="nonterminal">pattern</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">pattern</span>
        COMMA
        <span class="nonterminal">pattern</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_graph_desc</span></th>
        <td><span class="list"><span class="nonterminal">struct_decl</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_decl</span></th>
        <td><span class="nonterminal">wire_decl</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">box_decl</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">wire_decl</span></th>
        <td>WIRE
        IDENT<sup>*</sup><sub>COMMA</sub>
        COLON
        <span class="nonterminal">type_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">box_decl</span></th>
        <td>BOX
        IDENT
        COLON
        IDENT
        <span class="option"><span class="nonterminal">box_params</span></span>
        <span class="nonterminal">box_ios</span>
        <span class="nonterminal">box_ios</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">box_params</span></th>
        <td>LBRACKET
        <span class="nonterminal">basic_expr</span><sup>*</sup><sub>COMMA</sub>
        RBRACKET</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">basic_expr</span></th>
        <td>IDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">const_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">basic_expr</span>
        INFIX1
        <span class="nonterminal">basic_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">basic_expr</span>
        INFIX2
        <span class="nonterminal">basic_expr</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">basic_expr</span>
        INFIX3
        <span class="nonterminal">basic_expr</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">box_ios</span></th>
        <td>LPAREN
        IDENT<sup>*</sup><sub>COMMA</sub>
        RPAREN</td>
      </tr>
      
      
    </table>
    
  </body>
  
</html>
